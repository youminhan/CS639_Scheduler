{"ast":null,"code":"var _jsxFileName = \"/Users/youminhan/University of Wisconsin-Madison/Fall2019/CS 639/cs639-react-3-youminhan/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport Cart from './Cart';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Plannersidebar from './Plannersidebar';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.courseareaCallback = (course, sections, secname, subsections, subsecname) => {\n      console.log(\"in functoin2\");\n      console.log(course);\n      var currselect = Object.assign({}, this.state.selectedCourses);\n\n      if (secname === null) {\n        let newcour = {};\n        newcour.credits = course.credits;\n        newcour.name = course.name;\n        newcour.number = course.number;\n        newcour.sections = course.sections;\n        currselect[course.number] = newcour;\n      } else if (subsecname === null) {\n        if (currselect[course.number]) {\n          var newcour = Object.assign({}, currselect[course.number]);\n          newcour.sections[secname] = course.sections[secname];\n          currselect[course.number] = newcour;\n        } else {\n          let newcour = {};\n          newcour.credits = course.credits;\n          newcour.name = course.name;\n          newcour.number = course.number;\n          newcour.sections = {\n            [secname]: course.sections[secname]\n          };\n          currselect[course.number] = newcour;\n        }\n      } else {\n        if (currselect[course.number]) {\n          var currCour = Object.assign({}, currselect[course.number]);\n\n          if (Object.keys(currCour.sections).includes(secname)) {\n            currCour.sections[secname].subsections[subsecname] = subsections[subsecname];\n          } else {\n            var newSec = {};\n            newSec.time = course.sections[secname].time;\n            newSec.instructor = course.sections[secname].instructor;\n            newSec.subsections = {\n              [subsecname]: subsections[subsecname]\n            };\n            currCour.sections[secname] = newSec;\n          }\n\n          currselect[course.number] = currCour;\n        } else {\n          let newSec = {};\n          newSec.credits = course.credits;\n          newSec.name = course.name;\n          newSec.number = course.number;\n          var newSubsec = {};\n          newSubsec.time = course.sections[secname].time;\n          newSubsec.instructor = course.sections[secname].instructor;\n          newSubsec.subsections = {\n            [subsecname]: subsections[subsecname]\n          };\n          newSec.sections = {\n            [secname]: newSubsec\n          };\n          currselect[course.number] = newSec;\n        }\n      }\n\n      this.setState({\n        selectedCourses: currselect\n      });\n    };\n\n    this.cartCallback = (course, sections, secname, subsections, subsecname) => {\n      var currselect = Object.assign({}, this.state.selectedCourses);\n\n      if (secname === null) {\n        delete currselect[course.number];\n      } else if (subsecname === null) {\n        delete currselect[course.number].sections[secname];\n\n        if (Object.keys(currselect[course.number].sections).length === 0) {\n          delete currselect[course.number];\n        }\n      } else {\n        delete currselect[course.number].sections[secname].subsections[subsecname];\n\n        if (Object.keys(currselect[course.number].sections[secname].subsections).length === 0) {\n          delete currselect[course.number].sections[secname];\n\n          if (Object.keys(currselect[course.number].sections).length === 0) {\n            delete currselect[course.number];\n          }\n        }\n      }\n\n      this.setState({\n        selectedCourses: currselect\n      });\n    };\n\n    this.plannerCallback = (course, sections, secname, subsections, subsecname) => {\n      console.log(\"in app\");\n      console.log(course);\n      console.log(sections);\n      console.log(secname);\n      console.log(subsections);\n      console.log(subsecname);\n      var currselect = Object.assign({}, this.state.scheduledCourses);\n      console.log(\"in functoin\");\n      console.log(course.name);\n\n      if (secname === null) {\n        let newcour = {};\n        newcour.credits = course.credits;\n        newcour.name = course.name;\n        newcour.number = course.number;\n        newcour.sections = course.sections;\n        currselect[course.number] = newcour;\n      } else if (subsecname === null) {\n        if (currselect[course.number]) {\n          var newcour = Object.assign({}, currselect[course.number]);\n          newcour.sections[secname] = course.sections[secname];\n          currselect[course.number] = newcour;\n        } else {\n          let newcour = {};\n          newcour.credits = course.credits;\n          newcour.name = course.name;\n          newcour.number = course.number;\n          newcour.sections = {\n            [secname]: course.sections[secname]\n          };\n          currselect[course.number] = newcour;\n        }\n      } else {\n        if (currselect[course.number]) {\n          var currCour = Object.assign({}, currselect[course.number]);\n\n          if (Object.keys(currCour.sections).includes(secname)) {\n            currCour.sections[secname].subsections[subsecname] = subsections[subsecname];\n          } else {\n            var newSec = {};\n            newSec.time = course.sections[secname].time;\n            newSec.instructor = course.sections[secname].instructor;\n            newSec.subsections = {\n              [subsecname]: subsections[subsecname]\n            };\n            currCour.sections[secname] = newSec;\n          }\n\n          currselect[course.number] = currCour;\n        } else {\n          let newSec = {};\n          newSec.credits = course.credits;\n          newSec.name = course.name;\n          newSec.number = course.number;\n          var newSubsec = {};\n          newSubsec.time = course.sections[secname].time;\n          newSubsec.instructor = course.sections[secname].instructor;\n          newSubsec.subsections = {\n            [subsecname]: subsections[subsecname]\n          };\n          newSec.sections = {\n            [secname]: newSubsec\n          };\n          currselect[course.number] = newSec;\n        }\n      }\n\n      this.setState({\n        scheduledCourses: currselect\n      });\n      console.log(this.s);\n    };\n\n    this.plannerRemoveCallback = (course, sections, secname, subsections, subsecname) => {};\n\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      selectedCourses: {},\n      scheduledCourses: {},\n      subjects: [],\n      searchMode: [],\n      toShow: false,\n      showCart: false,\n      showPalnner: false\n    };\n  }\n\n  functiona() {\n    this.setState({\n      toShow: true\n    });\n  }\n\n  componentDidMount() {\n    fetch('https://mysqlcs639.cs.wisc.edu:5000/classes').then(res => res.json()).then(data => this.setState({\n      allCourses: data,\n      filteredCourses: data,\n      subjects: this.getSubjects(data),\n      searchMode: this.getSearchmode()\n    })); // this.setState({allCourses: fallback, filteredCourses: fallback, subjects: this.getSubjects(fallback)});\n  }\n\n  getSearchmode() {\n    let searchMode = [];\n    searchMode.push(\"Fit all the tags\");\n    searchMode.push(\"Fit at least one of the tag\");\n    return searchMode;\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (const course of Object.values(data)) {\n      if (subjects.indexOf(course.subject) === -1) subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  }\n\n  getContent() {\n    if (this.state.showCart) {\n      return React.createElement(Cart, {\n        data: this.state.selectedCourses,\n        callbackFromCart: this.cartCallback,\n        style: {\n          position: 'absolute',\n          zIndex: -1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 213\n        },\n        __self: this\n      });\n    } else if (this.state.showPalnner) {\n      return React.createElement(Plannersidebar, {\n        data: this.state.selectedCourses,\n        callbackFromCart: this.cartCallback,\n        callbackFromPlanner: this.plannerCallback,\n        style: {\n          position: 'absolute',\n          zIndex: -1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(React.Fragment, null, React.createElement(Sidebar, {\n        setCourses: courses => this.setCourses(courses),\n        courses: this.state.allCourses,\n        searchMode: this.state.searchMode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          marginLeft: '20vw'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222\n        },\n        __self: this\n      }, React.createElement(CourseArea, {\n        style: {\n          position: 'absolute',\n          zIndex: -1,\n          marginTop: '50px'\n        },\n        data: this.state.filteredCourses,\n        callbackFromCourseArea: this.courseareaCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223\n        },\n        __self: this\n      })));\n    }\n  }\n\n  changeContent(cart, planner) {\n    this.setState({\n      showCart: cart,\n      showPalnner: planner\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 241\n      },\n      __self: this\n    }), React.createElement(Navbar, {\n      bg: \"dark\",\n      variant: \"dark\",\n      expand: \"lg\",\n      style: {\n        position: 'sticky',\n        zIndex: 100,\n        top: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"https://www.wisc.edu\",\n      target: \"_blank\",\n      rel: \"noopener noreferrer\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/UWlogo.png\",\n      height: \"42\",\n      width: \"124\",\n      alt: \"hello\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    }))), React.createElement(Navbar.Brand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, \"Course Search & Enroll\"), React.createElement(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }), React.createElement(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 252\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      onClick: () => this.changeContent(false, false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 254\n      },\n      __self: this\n    }, \"Search\"), React.createElement(Nav.Link, {\n      onClick: () => this.changeContent(true, false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, \"Cart\"), React.createElement(Nav.Link, {\n      onClick: () => this.changeContent(false, true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"Planner\")))), this.getContent());\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/youminhan/University of Wisconsin-Madison/Fall2019/CS 639/cs639-react-3-youminhan/src/App.js"],"names":["React","Sidebar","CourseArea","Cart","Tabs","Tab","Navbar","Nav","Plannersidebar","App","Component","constructor","props","courseareaCallback","course","sections","secname","subsections","subsecname","console","log","currselect","Object","assign","state","selectedCourses","newcour","credits","name","number","currCour","keys","includes","newSec","time","instructor","newSubsec","setState","cartCallback","length","plannerCallback","scheduledCourses","s","plannerRemoveCallback","allCourses","filteredCourses","subjects","searchMode","toShow","showCart","showPalnner","functiona","componentDidMount","fetch","then","res","json","data","getSubjects","getSearchmode","push","values","indexOf","subject","setCourses","courses","getContent","position","zIndex","marginLeft","marginTop","changeContent","cart","planner","render","top"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport Cart from './Cart';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Plannersidebar from './Plannersidebar';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      selectedCourses: {},\n      scheduledCourses: {},\n      subjects: [],\n      searchMode : [],\n      toShow: false,\n      showCart: false,\n      showPalnner: false\n    };\n  }\n\n  functiona(){\n    this.setState({\n      toShow: true\n    })\n  }\n  \n\n  courseareaCallback = (course, sections, secname, subsections, subsecname) => {\n    console.log(\"in functoin2\");\n    console.log(course);\n    var currselect = Object.assign({}, this.state.selectedCourses);\n    if (secname === null) {\n      let newcour = {};\n      newcour.credits = course.credits;\n      newcour.name = course.name;\n      newcour.number = course.number;\n      newcour.sections = course.sections;\n      currselect[course.number] = newcour;\n    }\n    else if (subsecname === null) {\n      if (currselect[course.number]) {\n        var newcour = Object.assign({}, currselect[course.number]);\n        newcour.sections[secname] = course.sections[secname];\n        currselect[course.number] = newcour;\n      } else {\n        let newcour = {};\n        newcour.credits = course.credits;\n        newcour.name = course.name;\n        newcour.number = course.number;\n        newcour.sections = {[secname]:course.sections[secname]};\n        currselect[course.number] = newcour;\n      }\n    } else {\n      if (currselect[course.number]) {\n        var currCour = Object.assign({}, currselect[course.number]);\n        if (Object.keys(currCour.sections).includes(secname)) {\n          currCour.sections[secname].subsections[subsecname] = subsections[subsecname]; \n        } else {\n          var newSec = {};\n          newSec.time = course.sections[secname].time;\n          newSec.instructor = course.sections[secname].instructor;\n          newSec.subsections = {[subsecname]: subsections[subsecname]};\n          currCour.sections[secname] = newSec;\n        }\n        currselect[course.number] = currCour;\n      } else {\n        let newSec = {};\n        newSec.credits = course.credits;\n        newSec.name = course.name;\n        newSec.number = course.number;\n        var newSubsec = {};\n        newSubsec.time = course.sections[secname].time;\n        newSubsec.instructor =  course.sections[secname].instructor;\n        newSubsec.subsections = {[subsecname]: subsections[subsecname]};\n        newSec.sections = {[secname]:newSubsec};\n        currselect[course.number] = newSec;\n      }  \n    }    \n    this.setState({\n      selectedCourses: currselect\n    })\n  }\n\n  componentDidMount() {\n    fetch('https://mysqlcs639.cs.wisc.edu:5000/classes').then(\n      res => res.json()\n    ).then(data => this.setState({allCourses: data, filteredCourses: data, subjects: this.getSubjects(data), searchMode: this.getSearchmode()}));\n  // this.setState({allCourses: fallback, filteredCourses: fallback, subjects: this.getSubjects(fallback)});\n  }\n\n  getSearchmode(){\n    let searchMode = [];\n    searchMode.push(\"Fit all the tags\");\n    searchMode.push(\"Fit at least one of the tag\");\n    return searchMode;\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for(const course of Object.values(data)) {\n      if(subjects.indexOf(course.subject) === -1)\n        subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({filteredCourses: courses})\n  }\n\n  cartCallback = (course, sections, secname, subsections, subsecname) => {\n    var currselect = Object.assign({}, this.state.selectedCourses);\n    if (secname === null) {\n      delete currselect[course.number];\n    } else if (subsecname === null) {\n      delete currselect[course.number].sections[secname];\n      if (Object.keys(currselect[course.number].sections).length === 0) {\n        delete currselect[course.number];\n      } \n    } else {\n      delete currselect[course.number].sections[secname].subsections[subsecname];\n      if (Object.keys(currselect[course.number].sections[secname].subsections).length === 0) {\n        delete currselect[course.number].sections[secname];\n        if (Object.keys(currselect[course.number].sections).length === 0) {\n          delete currselect[course.number];\n        }\n      } \n    }\n    this.setState({\n      selectedCourses: currselect\n    })\n  }\n\n  plannerCallback = (course, sections, secname, subsections, subsecname) => {\n    console.log(\"in app\");\n    console.log(course);\n    console.log(sections);\n    console.log(secname);\n    console.log(subsections);\n    console.log(subsecname);\n    var currselect = Object.assign({}, this.state.scheduledCourses);\n    console.log(\"in functoin\");\n    console.log(course.name);\n    if (secname === null) {\n      let newcour = {};\n\n      newcour.credits = course.credits;\n      newcour.name = course.name;\n      newcour.number = course.number;\n      newcour.sections = course.sections;\n      currselect[course.number] = newcour;\n    }\n    else if (subsecname === null) {\n      if (currselect[course.number]) {\n        var newcour = Object.assign({}, currselect[course.number]);\n        newcour.sections[secname] = course.sections[secname];\n        currselect[course.number] = newcour;\n      } else {\n        let newcour = {};\n        newcour.credits = course.credits;\n        newcour.name = course.name;\n        newcour.number = course.number;\n        newcour.sections = {[secname]:course.sections[secname]};\n        currselect[course.number] = newcour;\n      }\n    } else {\n      if (currselect[course.number]) {\n        var currCour = Object.assign({}, currselect[course.number]);\n        if (Object.keys(currCour.sections).includes(secname)) {\n          currCour.sections[secname].subsections[subsecname] = subsections[subsecname]; \n        } else {\n          var newSec = {};\n          newSec.time = course.sections[secname].time;\n          newSec.instructor = course.sections[secname].instructor;\n          newSec.subsections = {[subsecname]: subsections[subsecname]};\n          currCour.sections[secname] = newSec;\n        }\n        currselect[course.number] = currCour;\n      } else {\n        let newSec = {};\n        newSec.credits = course.credits;\n        newSec.name = course.name;\n        newSec.number = course.number;\n        var newSubsec = {};\n        newSubsec.time = course.sections[secname].time;\n        newSubsec.instructor =  course.sections[secname].instructor;\n        newSubsec.subsections = {[subsecname]: subsections[subsecname]};\n        newSec.sections = {[secname]:newSubsec};\n        currselect[course.number] = newSec;\n      }  \n    }    \n    this.setState({\n      scheduledCourses: currselect\n    })\n    console.log(this.s)\n  }\n\n  plannerRemoveCallback = (course, sections, secname, subsections, subsecname) => {\n\n  }\n  getContent(){\n    if (this.state.showCart) {\n      return <Cart data={this.state.selectedCourses} callbackFromCart = {this.cartCallback}  style={{position:'absolute', zIndex: -1,}}/>\n    } else if (this.state.showPalnner) {\n      return (\n        <Plannersidebar data={this.state.selectedCourses} callbackFromCart = {this.cartCallback} callbackFromPlanner = {this.plannerCallback}  style={{position:'absolute', zIndex: -1,}}/>\n      )\n    } else {\n      return (\n        <>\n        <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} searchMode={this.state.searchMode}/>\n        <div style={{marginLeft: '20vw'}}>\n          <CourseArea style={{position:'absolute', zIndex: -1, marginTop: '50px'}} data={this.state.filteredCourses} callbackFromCourseArea = {this.courseareaCallback}/>\n        </div>\n        </>\n      )\n    }\n  }\n\n  changeContent(cart,planner) {\n    this.setState({\n      showCart: cart,\n      showPalnner: planner\n    })\n  }\n\n  render() {\n    return (    \n      \n      <>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n          crossOrigin=\"anonymous\"\n        />\n\n        <Navbar  bg=\"dark\" variant=\"dark\" expand=\"lg\" style={{position:'sticky', zIndex: 100, top: 0}} >\n          <Navbar.Brand><a href=\"https://www.wisc.edu\" target=\"_blank\" rel=\"noopener noreferrer\"><img src='/UWlogo.png' height=\"42\" width=\"124\" alt=\"hello\"/></a></Navbar.Brand>\n          <Navbar.Brand>Course Search & Enroll</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">  \n              <Nav.Link onClick={()=> this.changeContent(false, false)}>Search</Nav.Link>\n              <Nav.Link onClick={()=> this.changeContent(true, false)}>Cart</Nav.Link>\n              <Nav.Link onClick={()=> this.changeContent(false, true)}>Planner</Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        {this.getContent()}\n      </>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}