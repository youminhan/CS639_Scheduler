{"ast":null,"code":"var _jsxFileName = \"/Users/youminhan/University of Wisconsin-Madison/Fall2019/CS 639/cs639-react-3-youminhan/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport Cart from './Cart';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.courseareaCallback = (course, sections, secname, subsections, subsecname) => {\n      var currselect = Object.assign({}, this.state.selectedCourses);\n\n      if (secname === null) {\n        let newcour = {};\n        newcour.credits = course.credits;\n        newcour.name = course.name;\n        newcour.number = course.number;\n        newcour.sections = course.sections;\n        currselect[course.number] = newcour;\n      } else if (subsecname === null) {\n        if (currselect[course.number]) {\n          var newcour = Object.assign({}, currselect[course.number]);\n          newcour.sections[secname] = course.sections[secname];\n          currselect[course.number] = newcour;\n        } else {\n          let newcour = {};\n          newcour.credits = course.credits;\n          newcour.name = course.name;\n          newcour.number = course.number;\n          newcour.sections = {\n            [secname]: course.sections[secname]\n          };\n          currselect[course.number] = newcour;\n        }\n      } else {\n        if (currselect[course.number]) {\n          var currCour = Object.assign({}, currselect[course.number]);\n\n          if (Object.keys(currCour.sections).includes(secname)) {\n            currCour.sections[secname].subsections[subsecname] = subsections[subsecname];\n          } else {\n            var newSec = {};\n            newSec.time = course.sections[secname].time;\n            newSec.instructor = course.sections[secname].instructor;\n            newSec.subsections = {\n              [subsecname]: subsections[subsecname]\n            };\n            currCour.sections[secname] = newSec;\n          }\n\n          currselect[course.number] = currCour;\n        } else {\n          let newSec = {};\n          newSec.credits = course.credits;\n          newSec.name = course.name;\n          newSec.number = course.number;\n          var newSubsec = {};\n          newSubsec.time = course.sections[secname].time;\n          newSubsec.instructor = course.sections[secname].instructor;\n          newSubsec.subsections = {\n            [subsecname]: subsections[subsecname]\n          };\n          newSec.sections = {\n            [secname]: newSubsec\n          };\n          currselect[course.number] = newSec;\n        }\n      }\n\n      this.setState({\n        selectedCourses: currselect\n      });\n    };\n\n    this.cartCallback = (course, sections, secname, subsections, subsecname) => {\n      var currselect = Object.assign({}, this.state.selectedCourses);\n\n      if (secname === null) {\n        delete currselect[course.number];\n      } else if (subsecname === null) {\n        delete currselect[course.number].sections[secname];\n\n        if (Object.keys(currselect[course.number].sections).length === 0) {\n          delete currselect[course.number];\n        }\n      } else {\n        delete currselect[course.number].sections[secname].subsections[subsecname];\n\n        if (Object.keys(currselect[course.number].sections[secname].subsections).length === 0) {\n          delete currselect[course.number].sections[secname];\n\n          if (Object.keys(currselect[course.number].sections).length === 0) {\n            delete currselect[course.number];\n          }\n        }\n      }\n\n      this.setState({\n        selectedCourses: currselect\n      });\n    };\n\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      selectedCourses: {},\n      subjects: [],\n      searchMode: [],\n      toShow: false,\n      showCart: false\n    };\n  }\n\n  functiona() {\n    this.setState({\n      toShow: true\n    });\n  }\n\n  componentDidMount() {\n    fetch('https://mysqlcs639.cs.wisc.edu:5000/classes').then(res => res.json()).then(data => this.setState({\n      allCourses: data,\n      filteredCourses: data,\n      subjects: this.getSubjects(data),\n      searchMode: this.getSearchmode()\n    })); // this.setState({allCourses: fallback, filteredCourses: fallback, subjects: this.getSubjects(fallback)});\n  }\n\n  getSearchmode() {\n    let searchMode = [];\n    searchMode.push(\"Fit all the tags\");\n    searchMode.push(\"Fit at least one of the tag\");\n    return searchMode;\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for (const course of Object.values(data)) {\n      if (subjects.indexOf(course.subject) === -1) subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({\n      filteredCourses: courses\n    });\n  }\n\n  getContent() {\n    console.log(this.state.showCart);\n\n    if (this.state.showCart) {\n      return React.createElement(Cart, {\n        data: this.state.selectedCourses,\n        callbackFromCart: this.cartCallback,\n        style: {\n          position: 'absolute',\n          zIndex: -1\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(React.Fragment, null, React.createElement(Sidebar, {\n        setCourses: courses => this.setCourses(courses),\n        courses: this.state.allCourses,\n        searchMode: this.state.searchMode,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        style: {\n          marginLeft: '20vw'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(CourseArea, {\n        style: {\n          position: 'absolute',\n          zIndex: -1,\n          marginTop: '50px'\n        },\n        data: this.state.filteredCourses,\n        callbackFromCourseArea: this.courseareaCallback,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      })));\n    }\n  }\n\n  changeContent(value) {\n    this.setState({\n      showCart: value\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(\"link\", {\n      rel: \"stylesheet\",\n      href: \"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n      integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n      crossOrigin: \"anonymous\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }), React.createElement(Navbar, {\n      bg: \"dark\",\n      variant: \"dark\",\n      expand: \"lg\",\n      style: {\n        position: 'sticky',\n        zIndex: 100,\n        top: 0\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(Navbar.Brand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: \"/UWlogo.png\",\n      height: \"42\",\n      width: \"124\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    })), React.createElement(Navbar.Brand, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, \"Course Search & Enroll\"), React.createElement(Navbar.Toggle, {\n      \"aria-controls\": \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(Navbar.Collapse, {\n      id: \"basic-navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      className: \"mr-auto\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      onClick: () => this.changeContent(false),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }, \"Search\"), React.createElement(Nav.Link, {\n      onClick: () => this.changeContent(true),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Cart\")))), this.getContent());\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/youminhan/University of Wisconsin-Madison/Fall2019/CS 639/cs639-react-3-youminhan/src/App.js"],"names":["React","Sidebar","CourseArea","Cart","Tabs","Tab","Navbar","Nav","App","Component","constructor","props","courseareaCallback","course","sections","secname","subsections","subsecname","currselect","Object","assign","state","selectedCourses","newcour","credits","name","number","currCour","keys","includes","newSec","time","instructor","newSubsec","setState","cartCallback","length","allCourses","filteredCourses","subjects","searchMode","toShow","showCart","functiona","componentDidMount","fetch","then","res","json","data","getSubjects","getSearchmode","push","values","indexOf","subject","setCourses","courses","getContent","console","log","position","zIndex","marginLeft","marginTop","changeContent","value","render","top"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Sidebar from './Sidebar';\nimport CourseArea from './CourseArea';\nimport Cart from './Cart';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allCourses: {},\n      filteredCourses: {},\n      selectedCourses: {},\n      subjects: [],\n      searchMode : [],\n      toShow: false,\n      showCart: false\n    };\n  }\n\n  functiona(){\n    this.setState({\n      toShow: true\n    })\n  }\n  \n\n  courseareaCallback = (course, sections, secname, subsections, subsecname) => {\n    var currselect = Object.assign({}, this.state.selectedCourses);\n    if (secname === null) {\n      let newcour = {};\n      newcour.credits = course.credits;\n      newcour.name = course.name;\n      newcour.number = course.number;\n      newcour.sections = course.sections;\n      currselect[course.number] = newcour;\n    }\n    else if (subsecname === null) {\n      if (currselect[course.number]) {\n        var newcour = Object.assign({}, currselect[course.number]);\n        newcour.sections[secname] = course.sections[secname];\n        currselect[course.number] = newcour;\n      } else {\n        let newcour = {};\n        newcour.credits = course.credits;\n        newcour.name = course.name;\n        newcour.number = course.number;\n        newcour.sections = {[secname]:course.sections[secname]};\n        currselect[course.number] = newcour;\n      }\n    } else {\n      if (currselect[course.number]) {\n        var currCour = Object.assign({}, currselect[course.number]);\n        if (Object.keys(currCour.sections).includes(secname)) {\n          currCour.sections[secname].subsections[subsecname] = subsections[subsecname]; \n        } else {\n          var newSec = {};\n          newSec.time = course.sections[secname].time;\n          newSec.instructor = course.sections[secname].instructor;\n          newSec.subsections = {[subsecname]: subsections[subsecname]};\n          currCour.sections[secname] = newSec;\n        }\n        currselect[course.number] = currCour;\n      } else {\n        let newSec = {};\n        newSec.credits = course.credits;\n        newSec.name = course.name;\n        newSec.number = course.number;\n        var newSubsec = {};\n        newSubsec.time = course.sections[secname].time;\n        newSubsec.instructor =  course.sections[secname].instructor;\n        newSubsec.subsections = {[subsecname]: subsections[subsecname]};\n        newSec.sections = {[secname]:newSubsec};\n        currselect[course.number] = newSec;\n      }  \n    }    \n    this.setState({\n      selectedCourses: currselect\n    })\n  }\n\n  componentDidMount() {\n    fetch('https://mysqlcs639.cs.wisc.edu:5000/classes').then(\n      res => res.json()\n    ).then(data => this.setState({allCourses: data, filteredCourses: data, subjects: this.getSubjects(data), searchMode: this.getSearchmode()}));\n  // this.setState({allCourses: fallback, filteredCourses: fallback, subjects: this.getSubjects(fallback)});\n  }\n\n  getSearchmode(){\n    let searchMode = [];\n    searchMode.push(\"Fit all the tags\");\n    searchMode.push(\"Fit at least one of the tag\");\n    return searchMode;\n  }\n\n  getSubjects(data) {\n    let subjects = [];\n    subjects.push(\"All\");\n\n    for(const course of Object.values(data)) {\n      if(subjects.indexOf(course.subject) === -1)\n        subjects.push(course.subject);\n    }\n\n    return subjects;\n  }\n\n  setCourses(courses) {\n    this.setState({filteredCourses: courses})\n  }\n\n  cartCallback = (course, sections, secname, subsections, subsecname) => {\n    var currselect = Object.assign({}, this.state.selectedCourses);\n    if (secname === null) {\n      delete currselect[course.number];\n    } else if (subsecname === null) {\n      delete currselect[course.number].sections[secname];\n      if (Object.keys(currselect[course.number].sections).length === 0) {\n        delete currselect[course.number];\n      } \n    } else {\n      delete currselect[course.number].sections[secname].subsections[subsecname];\n      if (Object.keys(currselect[course.number].sections[secname].subsections).length === 0) {\n        delete currselect[course.number].sections[secname];\n        if (Object.keys(currselect[course.number].sections).length === 0) {\n          delete currselect[course.number];\n        }\n      } \n    }\n    this.setState({\n      selectedCourses: currselect\n    })\n  }\n\n  getContent(){\n    console.log(this.state.showCart)\n    if (this.state.showCart) {\n      return <Cart data={this.state.selectedCourses} callbackFromCart = {this.cartCallback}  style={{position:'absolute', zIndex: -1,}}/>\n    } else {\n      return (\n        <>\n        <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} searchMode={this.state.searchMode}/>\n        <div style={{marginLeft: '20vw'}}>\n          <CourseArea style={{position:'absolute', zIndex: -1, marginTop: '50px'}} data={this.state.filteredCourses} callbackFromCourseArea = {this.courseareaCallback}/>\n        </div>\n        </>\n      )\n    }\n  }\n\n  changeContent(value) {\n    this.setState({\n      showCart: value\n    })\n  }\n\n  render() {\n    return (    \n      \n      <>\n        <link\n          rel=\"stylesheet\"\n          href=\"https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\"\n          integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\"\n          crossOrigin=\"anonymous\"\n        />\n        {/* <Tabs variant='pills' defaultActiveKey=\"home\" id=\"uncontrolled-tab-example\" style={{position: 'fixed'}} >\n          <Tab eventKey=\"home\" title=\"Course Search\" >\n            <Sidebar setCourses={(courses) => this.setCourses(courses)} courses={this.state.allCourses} searchMode={this.state.searchMode}/>\n            <div style={{marginLeft: '20vw'}}>\n              <CourseArea data={this.state.filteredCourses} callbackFromCourseArea = {this.courseareaCallback}/>\n            </div>\n          </Tab>\n          <Tab eventKey=\"cart\" title=\"Cart\" style={{marginTop: '5px'}}>\n            \n            <div style={{marginTop: '50px', marginLeft: '1vw', marginRight: '1vw', position: 'absolute'}}>\n              <Cart data={this.state.selectedCourses} callbackFromCart = {this.cartCallback}/>\n           </div>\n          </Tab>\n        </Tabs>      */}\n\n        <Navbar  bg=\"dark\" variant=\"dark\" expand=\"lg\" style={{position:'sticky', zIndex: 100, top: 0}} >\n          <Navbar.Brand><img src='/UWlogo.png' height=\"42\" width=\"124\"/></Navbar.Brand>\n          <Navbar.Brand>Course Search & Enroll</Navbar.Brand>\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n          <Navbar.Collapse id=\"basic-navbar-nav\">\n            <Nav className=\"mr-auto\">  \n              <Nav.Link onClick={()=> this.changeContent(false)}>Search</Nav.Link>\n              <Nav.Link onClick={()=> this.changeContent(true)}>Cart</Nav.Link>\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        {this.getContent()}\n      </>\n    )\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}